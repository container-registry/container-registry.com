<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>OIDC Authentication - Container Registry</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://container-registry.com/favicon.png><link rel=apple-touch-icon sizes=180x180 href=https://container-registry.com//favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://container-registry.com//favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://container-registry.com//favicon/favicon-16x16.png><link rel=manifest href=https://container-registry.com//favicon/site.webmanifest><link rel=mask-icon href=https://container-registry.com//favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=https://container-registry.com//favicon/favicon.ico><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config content="https://container-registry.com//favicon/browserconfig.xml"><meta name=theme-color content="#ffffff"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@100;500&family=Open+Sans&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.min.df385dfdb6b9f03ed8578c95f2fc012f6df01b5c863d8fc72f71c3e7825fab24.css><script>(function(b,d,e,a,g){b[a]=b[a]||[],b[a].push({'gtm.start':(new Date).getTime(),event:'gtm.js'});var f=d.getElementsByTagName(e)[0],c=d.createElement(e),h=a!='dataLayer'?'&l='+a:'';c.async=!0,c.src='https://www.googletagmanager.com/gtm.js?id='+g+h,f.parentNode.insertBefore(c,f)})(window,document,'script','dataLayer','GTM-P2NXZV4')</script></head><body class="page page-docs-single"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P2NXZV4" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-pricing><a href=/#pricing><span>Pricing</span></a></li><li class=menu-item-documentation><a href=/docs/><span>Documentation</span></a></li><li class=menu-item-faq><a href=/faq/><span>FAQ</span></a></li><li class=menu-item-about><a href=/about/><span>About</span></a></li><li class=menu-item-blog><a href=/posts/><span>Blog</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li><li class=menu-item-jobs><a href=https://www.notion.so/8gears/Full-Stack-Software-Engineer-Python-Vue-Alpine-Container-a9a7d93f8a6b4e32b1caa11be1836810><span>Jobs</span></a></li></ul></div><div id=header class="header header-fixed"><div class=container><div class=logos><div class=logo><a href=https://container-registry.com/><img height=70px width=70px alt="Container Registry Logo" src=/img/logo.svg></a></div><div class=logo-invert><a href=https://container-registry.com/><img height=70px width=70px alt="Container Registry Logo" src=/img/logo-white.svg></a></div><div class=logo-mobile><a href=https://container-registry.com/><img height=64px width=64px alt="Container Registry Logo" src=/img/logo.svg></a></div><div class=logo-invert-mobile><a href=https://container-registry.com/><img height=64px width=64px alt="Container Registry Logo" src=/img/logo-white.svg></a></div></div><div class="docs_search search_parent"><div class=docs_search--field id=searchbox></div><div class=docs_search--result id=hits></div></div><div class=main-menu><ul><li class=menu-item-pricing><a href=/#pricing><span>Pricing</span></a><li class=menu-item-documentation><a href=/docs/><span>Documentation</span></a><li class=menu-item-faq><a href=/faq/><span>FAQ</span></a><li class=menu-item-about><a href=/about/><span>About</span></a><li class=menu-item-blog><a href=/posts/><span>Blog</span></a><li class=menu-item-contact><a href=/contact/><span>Contact</span></a><li class=menu-item-jobs><a href=https://www.notion.so/8gears/Full-Stack-Software-Engineer-Python-Vue-Alpine-Container-a9a7d93f8a6b4e32b1caa11be1836810><span>Jobs</span></a></ul></div><div id=toggle-main-menu-mobile class=menu-trigger><button class=hamburger>Menu</button></div></div></div><div id=wrapper class=wrapper><div class=docs_section><div class=container><div class="row align-items-start"><div class="col-md-3 docs_sidebar"><div class=docs_sidebar-list><div class="docs_sidebar-item sidebar_dropdown"><div class=docs_sidebar-head_item><a class=docs_sidebar-name href=https://container-registry.com/docs/getting-started-guide/>Getting Started Guide</a>
<button class=btn-drop></button></div><ul class="docs_dropdown docs_menu"><li><a href=https://container-registry.com/docs/getting-started-guide/prerequisites/>Prerequisites</a></li><li><a href=https://container-registry.com/docs/getting-started-guide/new-user-sign-up/>New User Sign Up</a></li><li><a href=https://container-registry.com/docs/getting-started-guide/push-and-pull-images/>Push and Pull Images</a></li><li><a href=https://container-registry.com/docs/getting-started-guide/other-useful-features/>Other Useful Features</a></li></ul></div><div class="docs_sidebar-item sidebar_dropdown"><div class=docs_sidebar-head_item><a class=docs_sidebar-name href=https://container-registry.com/docs/user-manual/>User Manual</a>
<button class=btn-drop></button></div><ul class="docs_dropdown docs_menu"><li><a href=https://container-registry.com/docs/user-manual/why-use-container-registry/>Why Use Container Registry</a></li><li><a href=https://container-registry.com/docs/user-manual/what-is-harbor/>What Is Harbor?</a></li><li><a href=https://container-registry.com/docs/user-manual/container-registry-user-interface-a-short-overview/>Container Registry User Interface: A Short Overview</a></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/user-manual/projects/>Working With Projects</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/user-manual/projects/repositories/>Repositories</a></li><li><a href=https://container-registry.com/docs/user-manual/projects/managing-project-users/>Managing Project Users</a></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/user-manual/projects/configuration/>Project Configuration</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/user-manual/projects/configuration/robot-accounts/>Robot Accounts</a></li><li><a href=https://container-registry.com/docs/user-manual/projects/configuration/webhooks/>Webhooks</a></li></ul></li></ul></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/user-manual/images/>Working With Artifacts</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/user-manual/images/push-and-pull-images/>Push and Pull Images</a></li><li><a href=https://container-registry.com/docs/user-manual/images/artifact-page/>Artifact Page</a></li><li><a href=https://container-registry.com/docs/user-manual/images/working-with-tags/>Working With Tags</a></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/user-manual/images/tags/>Tag Policies</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/user-manual/images/tags/tag-retention/>Tag Retention</a></li><li><a href=https://container-registry.com/docs/user-manual/images/tags/tag-immutability/>Tag Immutability</a></li></ul></li></ul></li><li><a href=https://container-registry.com/docs/user-manual/working-with-logs/>Working With Logs</a></li><li><a href=https://container-registry.com/docs/user-manual/dedicated-vs-individual-account/>Dedicated vs Individual Account</a></li><li><a href=https://container-registry.com/docs/user-manual/double-starred-patterns/>Double-Starred Patterns</a></li></ul></div><div class="docs_sidebar-item sidebar_dropdown open"><div class=docs_sidebar-head_item><a class="docs_sidebar-name active" href=https://container-registry.com/docs/administration-manual/>Administration Manual</a>
<button class=btn-drop></button></div><ul class="docs_dropdown docs_menu"><li><a href=https://container-registry.com/docs/administration-manual/registration-for-system-admins/>Registration for System Admins</a></li><li class="sidebar_dropdown open"><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/administration-manual/authentication/ class=active>Configure User Authentication</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/administration-manual/authentication/database-authentication/>Database Authentication</a></li><li><a href=https://container-registry.com/docs/administration-manual/authentication/uaa-authentication/>UAA Authentication</a></li><li><a href=https://container-registry.com/docs/administration-manual/authentication/ldap-ad-authentication/>LDAP/AD Authentication</a></li><li><a href=https://container-registry.com/docs/administration-manual/authentication/oidc-authentication/ class=active>OIDC Authentication</a></li></ul></li><li><a href=https://container-registry.com/docs/administration-manual/user-management/>User Management</a></li><li><a href=https://container-registry.com/docs/administration-manual/system-robot-accounts/>System Robot Accounts</a></li><li><a href=https://container-registry.com/docs/administration-manual/endpoints-for-replications-and-proxy-cache/>Endpoints For Replications and Proxy Cache</a></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/administration-manual/replication/>Configure Artifacts Replication</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/administration-manual/replication/configure-replication-rules/>Configure Replication Rules</a></li></ul></li><li><a href=https://container-registry.com/docs/administration-manual/system-wide-labels/>System-Wide Labels</a></li><li><a href=https://container-registry.com/docs/administration-manual/project-quotas/>Project Quotas</a></li><li class=sidebar_dropdown><div class=docs_sidebar-head_item><a href=https://container-registry.com/docs/administration-manual/scanners/>Vulnerability Scanners</a>
<button class=btn-drop></button></div><ul class="docs_submenu docs_dropdown"><li><a href=https://container-registry.com/docs/administration-manual/scanners/manage-pre-installed-scanners/>Manage Pre-Installed Scanners</a></li><li><a href=https://container-registry.com/docs/administration-manual/scanners/add-new-scanners/>Add New Scanners</a></li><li><a href=https://container-registry.com/docs/administration-manual/scanners/scanning-artifacts/>Scanning Artifacts</a></li><li><a href=https://container-registry.com/docs/administration-manual/scanners/general-configurations/>General Configurations</a></li></ul></li><li><a href=https://container-registry.com/docs/administration-manual/terminal-deletion-of-images/>Terminal Deletion of Images</a></li><li><a href=https://container-registry.com/docs/administration-manual/other-system-settings/>Other System Settings</a></li><li><a href=https://container-registry.com/docs/administration-manual/proxy-cache-projects/>Proxy Cache Projects</a></li></ul></div><div class="docs_sidebar-item sidebar_dropdown"><div class=docs_sidebar-head_item><a class=docs_sidebar-name href=https://container-registry.com/docs/user-guide/>User Guides</a>
<button class=btn-drop></button></div><ul class="docs_dropdown docs_menu"><li><a href=https://container-registry.com/docs/user-guide/oidc-configuration-for-google-workspaces/>OIDC configuration for Google Workspaces</a></li></ul></div></div><script>const sidebarDrop=document.querySelectorAll('.btn-drop');sidebarDrop.forEach(a=>{a.addEventListener('click',a=>{a.currentTarget.closest('.sidebar_dropdown').classList.toggle('open')})})</script><button id=menu-docs class="button button-primary">Docs menu</button></div><div class="col-md-8 offset-md-1 docs_content content"><h1 id=openid-connect-single-sign-on-authentication>OpenID Connect Single Sign-On Authentication</h1><p>Currently, we support Google and Microsoft as OIDC providers. In the <a href=/docs/user-guide/>User Guides section</a>, you can find selected configuration tutorials that explain how the settings look like on the provider side.</p><div class="note warning"><div class=icon><img src=/images/icons/ico-warning.svg alt></div><div class=note-content><h3 class=title>WARNING</h3><p>Your OIDC roles won&rsquo;t be mapped to project roles in your Container Registry instance, neither on the user nor on the group level.</p></div></div><p>In this tutorial, we show what you need to do in your Container Registry instance to start using OIDC login. Usually, you should proceed with this tutorial only after you&rsquo;ve set up everything in your account in the provider&rsquo;s cloud.</p><p>Besides, make sure that you made yourself familiar with general notes on <a href=/docs/administration-manual/authentication/>different authentication modes</a> as each of them may have its advantages and disadvantages.</p><h2 id=steps-in-your-container-registry-instance>Steps in Your Container Registry Instance</h2><ul><li>In the navigation pane, select <strong>Administration</strong>;</li><li>Click on <strong>Configuration</strong>;</li><li>Open the <strong>Authentication</strong> tab;</li><li>In the <strong>Auth Mode</strong>, select <strong>OIDC</strong> from the dropdown;</li><li>Enter the <strong>OIDC Endpoint</strong>: an URL of the authorization server specified in your provider&rsquo;s official documentation on the OpenID usage;</li><li>Fill in the fields with information you copied from your workspace on the provider side;<ul><li><strong>OIDC Client ID</strong>;</li><li><strong>OIDC Client Secret</strong>;</li></ul></li><li>Enter the <strong>Group Claim Name</strong> which relates to <a href=#oidc-groups>OIDC groups</a>;<ul><li>it must be a name/value pair: a name is a property that is used to store group names in your OIDC provider, values are the list of the groups you want to add;</li></ul></li><li>In <strong>OIDC Scope</strong>, enter <code>openid</code> ;<ul><li><a href=https://auth0.com/docs/configure/apis/scopes/openid-connect-scopes>further scopes</a> can be specified depending on your provider; they must be separated by commas;</li></ul></li><li>Tick on <strong>Verify Certificate</strong> if your provider offers a certificate (which will be almost always the case);</li><li>Specify if users will be enabled to change their username when signing up for the first time: if you select <strong>Automatic Onboarding</strong>, the onboarding screen won&rsquo;t be shown, and users will be automatically assigned their usernames as they appear in the OpenID;<ul><li>If you activated <em>Automatic Onboarding</em>, you may also specify another property of the ID token that will be used to generate usernames in your Container Registry instance.</li></ul></li></ul><p><img src=../configure_oidc.png alt></p><ul><li>Test the connection and hit <strong>Save</strong> if it worked out well.</li></ul><p>When you log out and then log in again, a new <strong>Login via OIDC provider</strong> button will appear on the login screen. As a system admin, you will continue to use your old credentials and <em>Username</em> and <em>Password</em> field to access your instance.</p><h2 id=on-the-provider-side>On the Provider Side</h2><p>Independently from your provider, you need to set the Redirect URI to</p><p><code>https://your-subdomain.container-registry.com/c/oidc/callback</code></p><p>or, if you have a custom domain:
<code>https://your-custom-domain.com/c/oidc/callback</code></p><p>It will be generated while you configure your OIDC authentication in your Container Registry instance.</p><h2 id=oidc-groups>OIDC Groups</h2><p>You can create user groups in your OIDC provider workspace. It can be achieved by adding the <code>memberof</code> attribute to every ID token, similarly to how it is done in case of <a href=/docs/administration-manual/authentication/ldap-ad-authentication/>LDAP/AD authentication</a>.</p><h2 id=refreshing-cli-secret-in-the-oidc-authnetication-mode>Refreshing CLI Secret in the OIDC Authnetication Mode</h2><p><a href=/docs/user-manual/container-registry-user-interface-a-short-overview/#manage-your-cli-secret>Users' CLI secrets</a> can be set to expire after a while as expained <a href=/docs/administration-manual/other-system-settings/#token-expiration>here</a>.</p><p>If a user&rsquo;s CLI expired, and the user tried to copy his new secret but it seems invalid, then the user must log out and log in to Container Registry and try to obtain the new secret again. The reason is that the CLI must be refreshed on the OIDC provider side, and this may fail sometimes.</p></div></div></div></div></div><div class=footer><div class=container><div class=row><div class=col-12><h3 class=footer-title>Container Registry</h3></div></div></div></div><div class=footer-second><div class=container><div class=row><div class=col-12><div class=footer-second-menu><div class=row><div class="col-12 col-md-3"><h3>Site</h3><div class=menu-footer-primary><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-features><a href=/#features><span>Features</span></a></li><li class=menu-item-pricing><a href=/#pricing><span>Pricing</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li><li class=menu-item-jobs><a href=https://www.notion.so/8gears/Full-Stack-Software-Engineer-Python-Vue-Alpine-Container-a9a7d93f8a6b4e32b1caa11be1836810><span>Jobs</span></a></li></ul></div></div><div class="col-12 col-md-3"><h3>Services</h3><div class=menu-footer-secondary><ul><li class=menu-item-customer-portal><a id=customer-portal href=javascript:void(0) data-billsby-type=account>Customer Portal</a></li><li class=menu-item-free-container-registry-c8n><a href=https://c8n.io><span>Free Container Registry C8N</span></a></li><li class=menu-item-container-registry-on-exoscale><a href=/exoscale><span>Container Registry on Exoscale</span></a></li></ul></div></div><div class="col-12 col-md-3"><h3>Support</h3><div class=menu-footer-secondary><ul><li class="menu-item-knowledge base"><a href=/docs/><span>Knowledge Base</span></a></li><li class="menu-item-privacy policy"><a href=/privacy/><span>Privacy Policy</span></a></li><li class="menu-item-terms of service"><a href=/terms-of-service/><span>Terms of Service</span></a></li></ul></div></div><div class="col-12 col-md-3"><h3>Social</h3><div class=menu-footer-social><ul class=d-flex><li class="menu-item-social mr-1"><a href=https://twitter.com/ContainerRgstry target=_blank><i class="fab fa-twitter"></i></a></li><li class="menu-item-social mr-1"><a href=https://www.reddit.com/r/docker/ target=_blank><i class="fab fa-reddit-alien"></i></a></li><li class="menu-item-social mr-1"><a href=https://www.linkedin.com/showcase/container-registry target=_blank><i class="fab fa-linkedin"></i></a></li><li class="menu-item-social mr-1"><a href=/contact/ target=_blank><i class="far fa-envelope"></i></a></li></ul></div></div></div></div></div></div></div></div><div class=footer-third><div class=container><div class=row><div class=col-12><div class=text-white>©Copyright - Container Registry by 8gears Ltd</div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js></script><script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4.8.3/dist/instantsearch.production.min.js></script><script type=text/javascript src=/js/search.js></script><script type=text/javascript src=/js/bundle.min.ffa41510acb10d38f64746ae47d6e936604c406f9cd1cf0cb5bc3fef4bc31b56.js></script><script>function toggleDocs(){document.querySelector('.docs_sidebar').classList.toggle('open'),document.querySelector('body').classList.toggle('lock-scroll')}document.querySelector('#menu-docs').addEventListener('click',toggleDocs)</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-179953813-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-179953813-1',{link_attribution:!0})</script><script type=text/javascript id=hs-script-loader async src=//js.hs-scripts.com/7006577.js></script></body></html>